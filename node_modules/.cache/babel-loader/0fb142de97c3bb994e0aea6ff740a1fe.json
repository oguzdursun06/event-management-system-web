{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OGUZHAN\\\\Projects\\\\event-management-system\\\\frontend\\\\ticket_master\\\\src\\\\components\\\\SignUp.js\";\nimport React, { Component } from 'react';\nimport { Container, Input, Button, Label, Form } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport 'react-notifications-component/dist/theme.css';\nimport 'animate.css';\nimport { FaUserAlt, FaUserCircle } from 'react-icons/fa';\nimport { GrMail } from 'react-icons/gr';\nimport SuccessMessage from './SuccessMessage';\nimport ErrorMessage from './ErrorMessage';\n\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.emptyItem = {\n      name: '',\n      tc: '',\n      password: '',\n      email: ''\n    };\n    this.state = {\n      item: this.emptyItem,\n      alertMessage: \"\",\n      members: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const item = this.state.item;\n    var control = 0;\n    this.state.members.map((member, i) => this.state.members[i].tc === item.tc || this.state.members[i].email === item.email ? control = 1 : null);\n\n    var checkTcNum = function (value) {\n      value = value.toString();\n      var isEleven = /^[0-9]{11}$/.test(value);\n      var totalX = 0;\n\n      for (var i = 0; i < 10; i++) {\n        totalX += Number(value.substr(i, 1));\n      }\n\n      var isRuleX = totalX % 10 == value.substr(10, 1);\n      var totalY1 = 0;\n      var totalY2 = 0;\n\n      for (var i = 0; i < 10; i += 2) {\n        totalY1 += Number(value.substr(i, 1));\n      }\n\n      for (var i = 1; i < 10; i += 2) {\n        totalY2 += Number(value.substr(i, 1));\n      }\n\n      var isRuleY = (totalY1 * 7 - totalY2) % 10 == value.substr(9, 0);\n      return isEleven && isRuleX && isRuleY;\n    };\n\n    var validator = require(\"email-validator\");\n\n    if (item.name.length < 2) {\n      this.setState({\n        alertMessage: \"nameError\"\n      });\n    } else if (validator.validate(item.email) == false) {\n      this.setState({\n        alertMessage: \"emailError\"\n      });\n    } else if (item.password.length < 5) {\n      this.setState({\n        alertMessage: \"passwordError\"\n      });\n    } else if (checkTcNum(item.tc) == false) {\n      this.setState({\n        alertMessage: \"tcKimlikError\"\n      });\n    } else if (control === 1) {\n      this.setState({\n        alertMessage: \"alreadySignUpError\"\n      });\n    } else {\n      await fetch(`/api/members`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(item)\n      });\n      this.setState({\n        alertMessage: \"successSignUp\"\n      });\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    let item = { ...this.state.item\n    };\n    item[name] = value;\n    this.setState({\n      item\n    });\n  }\n\n  async componentDidMount() {\n    const response = await fetch('/api/members');\n\n    try {\n      const body = await response.json();\n      this.setState({\n        members: body\n      });\n    } catch (err) {}\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"landing-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }), this.state.alertMessage.includes(\"success\") ? /*#__PURE__*/React.createElement(SuccessMessage, {\n      title: this.state.alertMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 64\n      }\n    }) : null, this.state.alertMessage.includes(\"Error\") ? /*#__PURE__*/React.createElement(ErrorMessage, {\n      title: this.state.alertMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 62\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-style-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 27\n      }\n    }, \"Kay\\u0131t Alan\\u0131\"), /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, \" \", /*#__PURE__*/React.createElement(FaUserAlt, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 44\n      }\n    }), \" Name and Surname \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 87\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      onChange: this.handleChange,\n      autoComplete: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"tc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(GrMail, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 41\n      }\n    }), \" Tc Kimlik No \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 77\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"tc\",\n      id: \"tc\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(GrMail, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 44\n      }\n    }), \" Email \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 73\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"email\",\n      id: \"email\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FaUserCircle, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 47\n      }\n    }), \" password \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 85\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      onChange: this.handleChange,\n      autoComplete: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"example_f\",\n      align: \"center\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 89\n      }\n    }, \"Kat\\u0131l\"))), /*#__PURE__*/React.createElement(Button, {\n      color: \"white\",\n      tag: Link,\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, \"Cancel\"))))));\n  }\n\n}\n\nexport default SignUp;","map":{"version":3,"sources":["C:/Users/OGUZHAN/Projects/event-management-system/frontend/ticket_master/src/components/SignUp.js"],"names":["React","Component","Container","Input","Button","Label","Form","Link","FaUserAlt","FaUserCircle","GrMail","SuccessMessage","ErrorMessage","SignUp","constructor","props","emptyItem","name","tc","password","email","state","item","alertMessage","members","handleSubmit","bind","handleChange","event","preventDefault","control","map","member","i","checkTcNum","value","toString","isEleven","test","totalX","Number","substr","isRuleX","totalY1","totalY2","isRuleY","validator","require","length","setState","validate","fetch","method","headers","body","JSON","stringify","target","componentDidMount","response","json","err","render","includes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Input, Button, Label, Form} from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport 'react-notifications-component/dist/theme.css';\r\nimport 'animate.css';\r\nimport { FaUserAlt,FaUserCircle } from 'react-icons/fa';\r\nimport {GrMail} from 'react-icons/gr'\r\nimport SuccessMessage from './SuccessMessage';\r\nimport ErrorMessage from './ErrorMessage';\r\n\r\nclass SignUp extends Component {\r\n\r\n    emptyItem = {\r\n        name: '',\r\n        tc: '',\r\n        password: '',\r\n        email: '',\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n            item: this.emptyItem,\r\n            alertMessage: \"\",\r\n            members: []\r\n\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    \r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const item = this.state.item;\r\n          \r\n        var control = 0;\r\n    \r\n        this.state.members.map((member,i) =>\r\n        this.state.members[i].tc === item.tc || this.state.members[i].email === item.email ? control = 1 : null\r\n      );\r\n      var checkTcNum = function(value) {\r\n        value = value.toString();\r\n        var isEleven = /^[0-9]{11}$/.test(value);\r\n        var totalX = 0;\r\n        for (var i = 0; i < 10; i++) {\r\n          totalX += Number(value.substr(i, 1));\r\n        }\r\n        var isRuleX = totalX % 10 == value.substr(10,1);\r\n        var totalY1 = 0;\r\n        var totalY2 = 0;\r\n        for (var i = 0; i < 10; i+=2) {\r\n          totalY1 += Number(value.substr(i, 1));\r\n        }\r\n        for (var i = 1; i < 10; i+=2) {\r\n          totalY2 += Number(value.substr(i, 1));\r\n        }\r\n        var isRuleY = ((totalY1 * 7) - totalY2) % 10 == value.substr(9,0);\r\n        return isEleven && isRuleX && isRuleY;\r\n      };\r\n      var validator = require(\"email-validator\");\r\n        if(item.name.length < 2){\r\n            this.setState({alertMessage: \"nameError\"});\r\n        }\r\n        else if(validator.validate(item.email) == false){\r\n            this.setState({alertMessage: \"emailError\"});\r\n        }\r\n        else if(item.password.length < 5){\r\n            this.setState({alertMessage: \"passwordError\"});\r\n        }\r\n        else if(checkTcNum(item.tc) == false){\r\n            this.setState({alertMessage: \"tcKimlikError\"});\r\n        }\r\n        else if(control === 1){\r\n            this.setState({alertMessage: \"alreadySignUpError\"});\r\n        \r\n    }     \r\n\r\n        else{\r\n        await fetch(`/api/members`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item)\r\n        }); \r\n    \r\n\r\n        this.setState({alertMessage: \"successSignUp\"});\r\n    }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({ item });\r\n    }\r\n    async componentDidMount() {\r\n        const response = await fetch('/api/members');\r\n        try {\r\n        const body = await response.json();\r\n        this.setState({members: body});\r\n        }\r\n        catch(err){\r\n                \r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"landing-grid\">\r\n            <Container>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                {this.state.alertMessage.includes(\"success\") ? <SuccessMessage title={this.state.alertMessage}/> : null}\r\n                {this.state.alertMessage.includes(\"Error\") ? <ErrorMessage title={this.state.alertMessage}/> : null}\r\n                <div class=\"form-style-3\">\r\n                <Form onSubmit={this.handleSubmit}>\r\n                   \r\n                <fieldset><legend>Kayıt Alanı</legend>\r\n                        <Label for=\"name\"> <FaUserAlt color=\"blue\"/> Name and Surname <span className=\"required\">*</span></Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"name\"\r\n                            onChange={this.handleChange} autoComplete=\"name\" />\r\n                 \r\n                        <br/>\r\n                       \r\n        \r\n                        <br/>\r\n                        <Label for=\"tc\"><GrMail color=\"blue\"/> Tc Kimlik No <span className=\"required\">*</span></Label>\r\n                        <Input type=\"text\" name=\"tc\" id=\"tc\" \r\n                            onChange={this.handleChange} />\r\n                        <br/>\r\n                    \r\n                        <Label for=\"email\"><GrMail color=\"blue\"/> Email <span className=\"required\">*</span></Label>\r\n                        <Input type=\"text\" name=\"email\" id=\"email\" \r\n                            onChange={this.handleChange} />\r\n                        <br/>\r\n                        <Label for=\"password\"><FaUserCircle color=\"blue\"/> password <span className=\"required\">*</span></Label>\r\n                        <Input type=\"password\" name=\"password\" id=\"password\" \r\n                            onChange={this.handleChange} autoComplete=\"name\" />\r\n               \r\n                         <br/>   \r\n                        <button><div className=\"example_f\" align=\"center\" type=\"submit\"><span>Katıl</span></div></button>\r\n                        <Button color=\"white\" tag={Link} to=\"/\">Cancel</Button>\r\n                        \r\n                    </fieldset>\r\n\r\n                </Form>\r\n                </div>\r\n            </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}