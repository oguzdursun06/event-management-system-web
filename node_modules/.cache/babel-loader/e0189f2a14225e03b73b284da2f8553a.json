{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OGUZHAN\\\\Projects\\\\event-management-system\\\\frontend\\\\ticket_master\\\\src\\\\components\\\\EventForm.js\";\nimport React, { Component } from 'react';\nimport { Container, Input, Button, Label, Form } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport DatePicker from 'react-datepicker';\nimport { MdEventAvailable } from 'react-icons/md';\nimport { FcCalendar, FcQuestions } from 'react-icons/fc';\nimport { GrCapacity } from 'react-icons/gr';\nimport Moment from 'moment';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport SuccessMessage from './SuccessMessage';\nimport ErrorMessage from './ErrorMessage';\n\nclass EventForm extends Component {\n  constructor(props) {\n    super(props);\n    this.emptyItem = {\n      name: '',\n      start_event_date: null,\n      finish_event_date: null,\n      capacity: 0,\n      category: '',\n      personCount: 0\n    };\n    this.state = {\n      name: '',\n      date: null,\n      events: [],\n      item: this.emptyItem,\n      alertMessage: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\n    this.handleFinishDateChange = this.handleFinishDateChange.bind(this);\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const item = this.state.item;\n    var currentDate = Moment().format(\"YYYY-MM-DD\");\n\n    if (item.name.length < 2) {\n      this.setState({\n        alertMessage: \"nameError\"\n      });\n    } else if (currentDate > Moment(item.start_event_date, \"llll\").format('YYYY-MM-DD')) {\n      this.setState({\n        alertMessage: \"startDateError\"\n      });\n    } else if (currentDate > Moment(item.finish_event_date, \"llll\").format('YYYY-MM-DD')) {\n      this.setState({\n        alertMessage: \"finishDateError\"\n      });\n    } else if (Moment(item.start_event_date, \"llll\").format('YYYY-MM-DD') > Moment(item.finish_event_date, \"llll\").format('YYYY-MM-DD')) {\n      this.setState({\n        alertMessage: \"dateError\"\n      });\n    } else if (item.capacity < 1) {\n      this.setState({\n        alertMessage: \"capacityError\"\n      });\n    } else if (item.start_event_date == null || item.finish_event_date == null) {\n      this.setState({\n        alertMessage: \"emptyDateError\"\n      });\n    } else {\n      await fetch(`/api/events`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(item)\n      });\n      this.props.history.push(\"/admin\");\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    let item = { ...this.state.item\n    };\n    item[name] = value;\n    this.setState({\n      item\n    });\n  }\n\n  handleStartDateChange(date) {\n    let item = { ...this.state.item\n    };\n    item.start_event_date = date;\n    this.setState({\n      item\n    });\n  }\n\n  handleFinishDateChange(date) {\n    let item = { ...this.state.item\n    };\n    item.finish_event_date = date;\n    this.setState({\n      item\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"landing-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }), this.state.alertMessage.includes(\"success\") ? /*#__PURE__*/React.createElement(SuccessMessage, {\n      title: this.state.alertMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 64\n      }\n    }) : null, this.state.alertMessage.includes(\"Error\") ? /*#__PURE__*/React.createElement(ErrorMessage, {\n      title: this.state.alertMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 62\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-style-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 27\n      }\n    }, \"Etkinlik olu\\u015Ftur\"), /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, \" \", /*#__PURE__*/React.createElement(MdEventAvailable, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 44\n      }\n    }), \" Etkinlik ad\\u0131 \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 91\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      value: this.state.item.name,\n      onChange: this.handleChange,\n      autoComplete: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"start_event_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FcCalendar, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 55\n      }\n    }), \" Etkinlik ba\\u015Flang\\u0131\\xE7 tarihi \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 108\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.item.start_event_date,\n      onChange: this.handleStartDateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"finish_event_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(FcCalendar, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 57\n      }\n    }), \" Etkinlik biti\\u015F tarihi \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 106\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.item.finish_event_date,\n      onChange: this.handleFinishDateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"capacity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(GrCapacity, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 47\n      }\n    }), \" Capacity \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 83\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"capacity\",\n      id: \"capacity\",\n      capacity: this.state.item.capacity,\n      onChange: this.handleChange,\n      autoComplete: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FcQuestions, {\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 47\n      }\n    }), \" Category\"), /*#__PURE__*/React.createElement(\"select\", {\n      type: \"text\",\n      name: \"category\",\n      id: \"category\",\n      category: this.state.item.category,\n      onChange: this.handleChange,\n      autoComplete: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }, \"Bir kategori se\\xE7iniz\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"yazilim\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, \"Yaz\\u0131l\\u0131m\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sanat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, \"Sanat\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"egitim\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    }, \"E\\u011Fitim\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"gezi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    }, \"Gezi\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"spor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 29\n      }\n    }, \"Spor\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"eglence\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 29\n      }\n    }, \"E\\u011Flence\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"diger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 29\n      }\n    }, \"Di\\u011Fer\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"example_f\",\n      align: \"center\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 89\n      }\n    }, \"Olu\\u015Ftur\"))), /*#__PURE__*/React.createElement(Button, {\n      color: \"white\",\n      tag: Link,\n      to: \"/admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, \"Cancel\")))))));\n  }\n\n}\n\nexport default EventForm;","map":{"version":3,"sources":["C:/Users/OGUZHAN/Projects/event-management-system/frontend/ticket_master/src/components/EventForm.js"],"names":["React","Component","Container","Input","Button","Label","Form","Link","DatePicker","MdEventAvailable","FcCalendar","FcQuestions","GrCapacity","Moment","SuccessMessage","ErrorMessage","EventForm","constructor","props","emptyItem","name","start_event_date","finish_event_date","capacity","category","personCount","state","date","events","item","alertMessage","handleSubmit","bind","handleChange","handleStartDateChange","handleFinishDateChange","event","preventDefault","currentDate","format","length","setState","fetch","method","headers","body","JSON","stringify","history","push","target","value","render","includes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Container, Input, Button, Label, Form } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport DatePicker from 'react-datepicker';\r\nimport {MdEventAvailable} from 'react-icons/md'\r\nimport {FcCalendar, FcQuestions} from 'react-icons/fc'\r\nimport {GrCapacity} from 'react-icons/gr'\r\nimport Moment from 'moment';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport SuccessMessage from './SuccessMessage';\r\nimport ErrorMessage from './ErrorMessage';\r\n\r\nclass EventForm extends Component {\r\n\r\n    emptyItem = {\r\n        name: '',\r\n        start_event_date: null,\r\n        finish_event_date: null,\r\n        capacity: 0,\r\n        category: '',\r\n        personCount: 0,\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            date: null,\r\n            events: [],\r\n            item: this.emptyItem,\r\n            alertMessage: \"\"\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n        this.handleFinishDateChange = this.handleFinishDateChange.bind(this);\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n         event.preventDefault();\r\n        const item = this.state.item; \r\n        var currentDate = Moment().format(\"YYYY-MM-DD\");\r\n   \r\n        if(item.name.length < 2){\r\n            this.setState({alertMessage: \"nameError\"});\r\n        }\r\n       \r\n        else if(currentDate > Moment(item.start_event_date,\"llll\").format('YYYY-MM-DD')){\r\n            this.setState({alertMessage: \"startDateError\"});\r\n        }\r\n\r\n        else if(currentDate > Moment(item.finish_event_date,\"llll\").format('YYYY-MM-DD')){\r\n            this.setState({alertMessage: \"finishDateError\"});\r\n        }\r\n        else if( Moment(item.start_event_date,\"llll\").format('YYYY-MM-DD') > Moment(item.finish_event_date,\"llll\").format('YYYY-MM-DD')){\r\n            this.setState({alertMessage: \"dateError\"});\r\n        }\r\n        else if(item.capacity < 1){\r\n            this.setState({alertMessage: \"capacityError\"});\r\n        }\r\n\r\n        else if(item.start_event_date == null || item.finish_event_date == null){\r\n            this.setState({alertMessage: \"emptyDateError\"});\r\n        }\r\n\r\n        else{\r\n        await fetch(`/api/events`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item)\r\n        });\r\n        this.props.history.push(\"/admin\");\r\n         }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({ item });\r\n    }\r\n    \r\n    handleStartDateChange(date) {\r\n        let item = {...this.state.item};\r\n        item.start_event_date = date;\r\n        this.setState({ item });\r\n    }\r\n    handleFinishDateChange(date) {\r\n        let item = {...this.state.item};\r\n        item.finish_event_date = date;\r\n        this.setState({ item });\r\n    }\r\n   \r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                 <div className=\"landing-grid\">\r\n                <Container>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                {this.state.alertMessage.includes(\"success\") ? <SuccessMessage title={this.state.alertMessage}/> : null}\r\n                {this.state.alertMessage.includes(\"Error\") ? <ErrorMessage title={this.state.alertMessage}/> : null}\r\n                <div class=\"form-style-3\">\r\n                <Form onSubmit={this.handleSubmit}>\r\n                   \r\n                <fieldset><legend>Etkinlik oluştur</legend>\r\n                        <Label for=\"name\"> <MdEventAvailable color=\"blue\" /> Etkinlik adı <span className=\"required\">*</span></Label>\r\n                        <input type=\"text\" name=\"name\" id=\"name\" value={this.state.item.name}\r\n                                onChange={this.handleChange} autoComplete=\"name\" />\r\n                 \r\n                        <br/>\r\n                        <Label for=\"start_event_date\"><FcCalendar color=\"blue\"/> Etkinlik başlangıç tarihi <span className=\"required\">*</span></Label>\r\n                        <DatePicker selected={this.state.item.start_event_date} onChange={this.handleStartDateChange}/>\r\n                    \r\n                         <br/>    \r\n                         <Label for=\"finish_event_date\"><FcCalendar color=\"blue\"/> Etkinlik bitiş tarihi <span className=\"required\">*</span></Label>\r\n                        <DatePicker selected={this.state.item.finish_event_date} onChange={this.handleFinishDateChange}/>\r\n                    \r\n                         <br/>  \r\n                        <Label for=\"capacity\"><GrCapacity color=\"blue\"/> Capacity <span className=\"required\">*</span></Label>\r\n                        <input type=\"text\" name=\"capacity\" id=\"capacity\" capacity={this.state.item.capacity}\r\n                                onChange={this.handleChange} autoComplete=\"name\" />\r\n\r\n                        <br/>\r\n            \r\n                        <Label for=\"category\"><FcQuestions color=\"blue\"/> Category</Label>\r\n                        \r\n                        <select type=\"text\" name=\"category\" id=\"category\" category={this.state.item.category}\r\n                                onChange={this.handleChange} autoComplete=\"name\">\r\n                            <option>Bir kategori seçiniz</option>\r\n                            <option value=\"yazilim\">Yazılım</option>\r\n                            <option value=\"sanat\">Sanat</option>\r\n                            <option value=\"egitim\">Eğitim</option>  \r\n                            <option value=\"gezi\">Gezi</option>\r\n                            <option value=\"spor\">Spor</option>\r\n                            <option value=\"eglence\">Eğlence</option>\r\n                            <option value=\"diger\">Diğer</option>\r\n                            </select>\r\n                        <br/>\r\n                        \r\n                        <button><div className=\"example_f\" align=\"center\" type=\"submit\"><span>Oluştur</span></div></button>\r\n                        <Button color=\"white\" tag={Link} to=\"/admin\">Cancel</Button>\r\n\r\n                        \r\n                    </fieldset>\r\n\r\n                </Form>\r\n                </div>\r\n            </Container>\r\n            </div>\r\n                    \r\n        \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EventForm;"]},"metadata":{},"sourceType":"module"}